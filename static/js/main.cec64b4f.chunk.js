(window["webpackJsonpcms-frontend"]=window["webpackJsonpcms-frontend"]||[]).push([[0],{198:function(e,t,a){},290:function(e,t,a){e.exports=a(681)},295:function(e,t,a){},296:function(e,t,a){},594:function(e,t,a){},678:function(e,t,a){},680:function(e,t,a){},681:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),r=a(7),l=a.n(r),o=(a(295),a(29)),s=a(30),c=a(32),u=a(31),d=a(33),p=(a(296),a(270)),m=a(69),g=a(35),f=(a(198),a(71),a(689)),h=a(9),y=a(685),b=a(688),E=a(94),v=a(43),C=a(135),w=a.n(C),O=a(40),S=function(e){return{type:"LOGIN_USER",isLoggedIn:e}},k=function(){function e(){Object(o.a)(this,e)}return Object(s.a)(e,null,[{key:"setUser",value:function(e){sessionStorage.setItem("user",JSON.stringify(e))}},{key:"clearSessionStorage",value:function(){sessionStorage.clear()}},{key:"removeUser",value:function(){sessionStorage.removeItem("user")}},{key:"removeRoutes",value:function(){sessionStorage.removeItem("routes")}},{key:"getUser",value:function(){return JSON.parse(sessionStorage.getItem("user"))}}]),e}(),I="Error";console.log(sessionStorage);var j=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openNotification=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#108ee9";f.a.open({message:e,description:t,icon:i.a.createElement(h.a,{type:a,style:{color:n}})})},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){return w.a.isEmail(t.email)?t.password.length<6?a.openNotification("Password","Password must be Atleast 6 Digits","close-circle","red"):(a.setState({loading:!0,disable:!0}),console.log(t),void fetch("https://cmsbackend123.herokuapp.com/login/signin",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then(function(e){return e.json()}).then(function(e){console.log(e),e.success?(a.openNotification("Wellcome","Successfully Login!!!","check"),k.setUser(e),a.props.loginUser(!0),window.location.reload(),a.props.history.push("/dashboard")):(a.openNotification(I,e.message,"close-circle","red"),a.setState({disable:!1}))})):a.openNotification("Email","Invalid Email","close-circle","red")})},a.state={password:"",disable:!1,loggedIn:!1,loading:!1,errorMessage:"",successMessage:""},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){k.getUser()&&this.props.history.push("/dashboard")}},{key:"componentDidUpdate",value:function(e,t){if(e.isError!==this.props.isError&&this.props.isError&&!this.props.isLoggedIn)return this.setState({disable:!1}),this.openNotification("Problem",this.props.errorMessage,"close-circle","red");!this.props.isError&&this.props.currentUser&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},i.a.createElement("div",{className:"card"},i.a.createElement("div",{className:"container"},i.a.createElement(y.a,{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement("h1",{style:{textAlign:"center"}},"Login"),i.a.createElement(y.a.Item,null,e("email",{rules:[{required:!0,message:"Please input your Email!"}]})(i.a.createElement(b.a,{prefix:i.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Email",type:"email"}))),i.a.createElement(y.a.Item,null,e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement(b.a,{prefix:i.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(y.a.Item,null,e("remember",{valuePropName:"checked",initialValue:!0})(i.a.createElement(E.a,null,"Remember me")),i.a.createElement("a",{className:"login-form-forgot",href:""},"Forgot password"),i.a.createElement(v.a,{htmlType:"submit",className:"login-form-button",disabled:this.state.disable,style:{backgroundColor:"#37A000",color:"white",fontWeight:"bold",fontSize:14,height:40}},"Log in"),"Or ",i.a.createElement(g.b,{to:"/register"},"Register Now!"))))))}}]),t}(i.a.Component);j.getDerivedStateFromProps=function(e,t){return!e.currentUser&&e.isError?{loading:!1,errorMessage:e.errorMessage}:{successMessage:e.successMessage,loading:!1,loggedIn:!0}};for(var N=y.a.create({name:"normal_login"})(j),D=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},function(e){return{loginUser:function(t){return e(S(t))}}})(N),A=a(684),P=a(59),V=a.n(P),x="Error",L="Please Enter Correct UserName, Email and Password!",T=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).openNotification=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#108ee9";f.a.open({message:e,description:t,icon:i.a.createElement(h.a,{type:a,style:{color:n}})})},a.normFile=function(e){if(a.setState({disableUpload:!1}),!e.file.type.indexOf("image"))return Array.isArray(e)?e:(e.fileList.length&&a.setState({disableUpload:!0}),e&&e.fileList);a.openNotification(x,"Please Upload an Image","close-circle","red")},a.handleSubmit=function(e){e.preventDefault(),a.props.form.validateFields(function(e,t){if(e)a.openNotification(x,L,"close-circle","red");else{if(!w.a.isEmail(t.email))return a.openNotification("Email","Invalid Email","close-circle","red");if(t.password.length<6)return a.openNotification("Password","Password must be Atleast 6 Digits","close-circle","red");a.setState({disable:!0}),console.log("Received values of form: ",t);var n=new FormData;n.append("name",t.name),n.append("email",t.email),n.append("password",t.password),n.append("upload",t.upload[0].originFileObj),V.a.post("https://cmsbackend123.herokuapp.com/login/signup",n).then(function(e){console.log(e),e.data.success?(a.openNotification("Wellcome",e.data.message,"check"),a.props.loginUser(!0),k.setUser(e.data),window.location.reload(),a.props.history.push("/dashboard")):(a.openNotification(x,e.message,"close-circle","red"),a.setState({disable:!1}))})}})},a.state={login:!0,disable:!1,disableUpload:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){k.getUser()&&this.props.history.push("/dashboard")}},{key:"render",value:function(){var e=this.props.form.getFieldDecorator;return i.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"ceenter"}},i.a.createElement("div",{className:"card"},i.a.createElement("div",null,i.a.createElement(y.a,{onSubmit:this.handleSubmit,className:"login-form"},i.a.createElement("h1",{style:{textAlign:"center"}},"Register"),i.a.createElement(y.a.Item,{className:"sign-up"},e("name",{rules:[{required:!0,message:"Please input your username!"}]})(i.a.createElement(b.a,{prefix:i.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),placeholder:"Username"}))),i.a.createElement(y.a.Item,{className:"sign-up"},e("email",{rules:[{required:!0,message:"Please input your Email!"}]})(i.a.createElement(b.a,{prefix:i.a.createElement(h.a,{type:"user",style:{color:"rgba(0,0,0,.25)"}}),type:"email",placeholder:"Email"}))),i.a.createElement(y.a.Item,{className:"sign-up"},e("password",{rules:[{required:!0,message:"Please input your Password!"}]})(i.a.createElement(b.a,{prefix:i.a.createElement(h.a,{type:"lock",style:{color:"rgba(0,0,0,.25)"}}),type:"password",placeholder:"Password"}))),i.a.createElement(y.a.Item,{className:"sign-up"},e("upload",{valuePropName:"fileList",getValueFromEvent:this.normFile})(i.a.createElement(A.a,{name:"logo",accept:"image/*",disabled:this.state.disable},i.a.createElement(v.a,{disabled:this.state.disableUpload},i.a.createElement(h.a,{type:"upload"})," Click to upload")))),i.a.createElement(y.a.Item,{className:"sign-up"},i.a.createElement(v.a,{htmlType:"submit",className:"login-form-button",disabled:this.state.disable,style:{backgroundColor:"#37A000",color:"white",fontWeight:"bold",fontSize:14,height:40}},"Sign Up"),"Or ",i.a.createElement(g.b,{to:"/"},"Login Account"))))))}}]),t}(i.a.Component),U=y.a.create({name:"normal_login"})(T),R=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},function(e){return{loginUser:function(t){return e(S(t))}}})(U),F=a(58),M=a(95),z=a.n(M),q=a(143),B=(a(594),a(108)),H=a(196),Y=a(682),_=a(690),G=B.a.Option,J=b.a.Search,W=[{title:"Headline",dataIndex:"headline",render:function(e){return i.a.createElement(g.b,{to:"article/".concat(e.slug),onClick:function(){return sessionStorage.setItem("article",JSON.stringify(e))}},e.headline.length>30?e.headline.slice(0,30):e.headline)}},{title:"Status",dataIndex:"status"},{title:"Author",dataIndex:"author"},{title:"Date",dataIndex:"date"}],K=[],$=0;$<460;$++)K.push({key:$,name:"Edward King ABc hello rfjygyjgfyh ".concat($),age:32,address:"London, Park Lane no. ".concat($)});var Q=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={current:"mail",user:null,allData:[],filter:"city"},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a.openNotification=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#108ee9";f.a.open({message:e,description:t,icon:i.a.createElement(h.a,{type:a,style:{color:n}})})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=Object(q.a)(z.a.mark(function e(){var t,a,n=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.allData,e.next=3,V.a.get("https://cmsbackend123.herokuapp.com/get/article/getAll").then(function(e){console.log(e.data.data),e.data.data.map(function(e,a){return t.push({key:a,headline:e,status:e.status,author:e.author,date:e.timestamp})}),n.setState({allData:t}),console.log(t)}).catch(function(e){return console.log(e)});case 3:(a=k.getUser())&&this.setState({user:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){sessionStorage.clear(),window.location.reload()}},{key:"handleChange",value:function(e){this.setState({filter:e})}},{key:"searchValue",value:function(e){var t=this,a=this.state,n=a.filter,i=a.allData;i=[],V.a.get("https://cmsbackend123.herokuapp.com/get/article/".concat(n,"/").concat(e)).then(function(e){console.log(e);var a=e.data.data;a.length?a.map(function(e,t){return i.push({key:t,headline:e,status:e.status,author:e.author,date:e.timestamp})}):t.openNotification("Sorry","No Result found","close-circle","red"),t.setState({allData:i}),!a.length&&setTimeout(function(){window.location.reload()},1e3)}).catch(function(e){console.log(e)})}},{key:"render",value:function(){var e=this,t=this.state,a=t.user,n=t.allData;return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,height:70,backgroundColor:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"right"},i.a.createElement(J,{placeholder:"Search by",enterButton:"Search",size:"large",className:"search1",style:{paddingTop:18,paddingBottom:10,paddingLeft:5,alignSelf:"center"},onSearch:function(t){return e.searchValue(t)}}),i.a.createElement(B.a,{defaultValue:"City",size:"large",className:"selector",style:{width:120,marginLeft:10,paddingTop:8},onChange:function(t){return e.handleChange(t)}},i.a.createElement(G,{value:"city"},"City"),i.a.createElement(G,{value:"category"},"Category"),i.a.createElement(G,{value:"topic"},"Topic"))),i.a.createElement("div",{style:{height:70,backgroundColor:"white"},className:"left"},i.a.createElement(H.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:10,paddingBottom:10}},i.a.createElement(H.a.Item,{key:"article"},i.a.createElement(g.b,{to:"/article"},"Add New Article")),i.a.createElement(H.a.Item,{key:"gallery"},i.a.createElement(g.b,{to:"/gallery"},"Photos-Gallery")),a?i.a.createElement(H.a.Item,{key:"logout",onClick:function(){return e.logout()}},i.a.createElement(h.a,{type:"arrow-right"}),"Logout"):null))),i.a.createElement("br",null),i.a.createElement("h1",{style:{justifyContent:"center",textAlign:"center"}},"News Articles"),i.a.createElement("br",null),i.a.createElement("div",{style:{width:"100%",justifyContent:"center",display:"flex",textAlign:"center"}},n.length?i.a.createElement(Y.a,{style:{width:"94%"},columns:W,dataSource:n}):i.a.createElement(_.a,{active:!0})))}}]),t}(i.a.Component),X=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},function(e){return{loginUser:function(t){return e(S(t))}}})(Q),Z=a(107),ee=(a(678),a(96)),te=a(15),ae=a.n(te),ne=a(686),ie=a(288),re=a(683),le=a(145),oe=a(687),se=b.a.TextArea,ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).normFile=function(e){var t=a.props.openNotification;if(a.setState({disableUpload:!1}),!e.file.type.indexOf("image"))return Array.isArray(e)?e:(e.fileList.length&&a.setState({disableUpload:!0}),e&&e.fileList);t("Error","Please Upload an Image!","close-circle","red")},a.state={disableUpload:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form.getFieldDecorator,l=this.state.disableUpload;return i.a.createElement(oe.a,{visible:t,title:"Add Image Details",okText:"Create",onCancel:a,onOk:n},i.a.createElement(y.a,{layout:"vertical"},i.a.createElement(y.a.Item,{label:"Description"},r("image_desc",{rules:[{required:!0,message:"Please Add the description of Image!"}]})(i.a.createElement(se,{rows:3}))),i.a.createElement(y.a.Item,null,r("image",{rules:[{required:!0,message:"Please Upload the Image!"}],valuePropName:"fileList",getValueFromEvent:this.normFile})(i.a.createElement(A.a,{name:"logo",listType:"picture",accept:"image/*"},i.a.createElement(v.a,{disabled:l},i.a.createElement(h.a,{type:"upload"})," Click to upload"))))))}}]),t}(i.a.Component),ue=y.a.create({name:"form_in_modal"})(ce),de=b.a.TextArea,pe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).normFile=function(e){var t=a.props.openNotification;if(a.setState({disableUpload:!1}),!e.file.type.indexOf("video"))return Array.isArray(e)?e:(e.fileList.length&&a.setState({disableUpload:!0}),e&&e.fileList);t("Error","Please Upload a Video","close-circle","red")},a.state={disableUpload:!1},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.visible,a=e.onCancel,n=e.onCreate,r=e.form.getFieldDecorator,l=this.state.disableUpload;return i.a.createElement(oe.a,{visible:t,title:"Add Image Details",okText:"Create",onCancel:a,onOk:n},i.a.createElement(y.a,{layout:"vertical"},i.a.createElement(y.a.Item,{label:"Description"},r("video_desc",{rules:[{required:!0,message:"Please add the Description!"}]})(i.a.createElement(de,{rows:3}))),i.a.createElement(y.a.Item,null,r("video",{rules:[{required:!0,message:"Please Upload a Video!"}],valuePropName:"fileList",getValueFromEvent:this.normFile})(i.a.createElement(A.a,{name:"logo",listType:"picture",accept:"video/*"},i.a.createElement(v.a,{disabled:l},i.a.createElement(h.a,{type:"upload"})," Click to upload"))))))}}]),t}(i.a.Component),me=y.a.create({name:"form_in_modal"})(pe);function ge(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}B.a.Option,B.a.OptGroup,b.a.Search;var fe=b.a.TextArea,he=(ne.a.Title,{labelCol:{xs:{span:24},sm:{span:8}},wrapperCol:{xs:{span:24},sm:{span:16}}}),ye={wrapperCol:{xs:{span:24,offset:0},sm:{span:16,offset:8}}},be=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).state={formDisable:!1,author:[],cities:[],categories:[],topics:[],gNews:[],gVisible:!1,topicVisible:!1,catVisible:!1,confirmDirty:!1,autoCompleteResult:[],user:null,inputVisible:!1,inputVisible1:!1,inputValue:"",visible:!1,videoVisible:!1,publishedDate:ae()().endOf("day"),imageData:"",videoData:null},a.showModal=function(){a.setState({visible:!0})},a.showModalVideo=function(){a.setState({videoVisible:!0})},a.handleCancel=function(){a.setState({visible:!1})},a.handleCancelVideo=function(){a.setState({videoVisible:!1})},a.openNotification=function(e,t,a){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"#108ee9";f.a.open({message:e,description:t,icon:i.a.createElement(h.a,{type:a,style:{color:n}})})},a.handleCreate=function(){a.formRef.props.form.validateFields(function(e,t){e||a.setState({visible:!1,imageData:t})})},a.handleCreateVideo=function(){a.formVideo.props.form.validateFields(function(e,t){e||(console.log("Received values of form Video: ",t),a.setState({videoVisible:!1,videoData:t}))})},a.saveFormRef=function(e){a.formRef=e},a.saveFormVideo=function(e){a.formVideo=e},a.handleClose=function(e){var t=a.state.author.filter(function(t){return t!==e});a.setState({author:t})},a.handleClose1=function(e){var t=a.state.cities.filter(function(t){return t!==e});a.setState({cities:t})},a.handleClose2=function(e){var t=a.state.categories.filter(function(t){return t!==e});a.setState({categories:t})},a.handleClose3=function(e){var t=a.state.topics.filter(function(t){return t!==e});a.setState({topics:t})},a.handleClose4=function(e){var t=a.state.gNews.filter(function(t){return t!==e});a.setState({gNews:t})},a.showInput=function(){a.setState({inputVisible:!0},function(){return a.input.focus()})},a.handleInputChange=function(e){a.setState({inputValue:e.target.value})},a.handleInputConfirm=function(){var e=a.state.inputValue,t=a.state.author;e&&-1===t.indexOf(e)&&(t=[].concat(Object(F.a)(t),[e])),console.log(t),a.setState(Object(Z.a)({author:t,inputVisible:!1,inputValue:""},"inputVisible",!1))},a.handleCityConfirm=function(){var e=a.state.inputValue,t=a.state.cities;e&&-1===t.indexOf(e)&&(t=[].concat(Object(F.a)(t),[e])),a.setState({cities:t,inputVisible1:!1,inputValue:""})},a.handleCatConfirm=function(){var e=a.state.inputValue,t=a.state.categories;e&&-1===t.indexOf(e)&&(t=[].concat(Object(F.a)(t),[e])),a.setState({categories:t,catVisible:!1,inputValue:""})},a.handleTopicConfirm=function(){var e=a.state.inputValue,t=a.state.topics;e&&-1===t.indexOf(e)&&(t=[].concat(Object(F.a)(t),[e])),a.setState({topics:t,topicVisible:!1,inputValue:""})},a.handleGNewsConfirm=function(){var e=a.state.inputValue,t=a.state.gNews;e&&-1===t.indexOf(e)&&(t=[].concat(Object(F.a)(t),[e])),a.setState({gNews:t,gVisible:!1,inputValue:""})},a.saveInputRef=function(e){return a.input=e},a.forMap=function(e){var t=i.a.createElement(ie.a,{closable:!0,style:{fontSize:16,paddingRight:10,paddingLeft:10},onClose:function(t){t.preventDefault(),a.handleClose(e)}},e);return i.a.createElement("span",{key:e,style:{display:"inline-block"}},t)},a.forMap1=function(e){var t=i.a.createElement(ie.a,{closable:!0,style:{fontSize:16,paddingRight:10,paddingLeft:10},onClose:function(t){t.preventDefault(),a.handleClose1(e)}},e);return i.a.createElement("span",{key:e,style:{display:"inline-block"}},t)},a.forMap2=function(e){var t=i.a.createElement(ie.a,{closable:!0,style:{fontSize:16,paddingRight:10,paddingLeft:10},onClose:function(t){t.preventDefault(),a.handleClose2(e)}},e);return i.a.createElement("span",{key:e,style:{display:"inline-block"}},t)},a.forMap3=function(e){var t=i.a.createElement(ie.a,{closable:!0,style:{fontSize:16,paddingRight:10,paddingLeft:10},onClose:function(t){t.preventDefault(),a.handleClose3(e)}},e);return i.a.createElement("span",{key:e,style:{display:"inline-block"}},t)},a.forMap4=function(e){var t=i.a.createElement(ie.a,{closable:!0,style:{fontSize:16,paddingRight:10,paddingLeft:10},onClose:function(t){t.preventDefault(),a.handleClose4(e)}},e);return i.a.createElement("span",{key:e,style:{display:"inline-block"}},t)},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a.handleSubmit=function(e){var t=a.state,n=t.imageData,i=t.videoData,r=t.categories,l=t.author,o=t.gNews,s=t.cities,c=t.topics;console.log(a.state);var u=k.getUser();e.preventDefault(),a.props.form.validateFieldsAndScroll(function(e,t){if(!e){t=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?ge(a,!0).forEach(function(t){Object(Z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):ge(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},t,{publishing:t.publishing.format("YYYY-MM-DD HH:mm:ss"),depublishing:t.depublishing.format("YYYY-MM-DD HH:mm:ss")}),a.setState({formDisable:!0});var d=new FormData;d.append("headline",t.headline),d.append("subheadline",t.subheadline),d.append("text",t.text),d.append("author",JSON.stringify(l)),d.append("city",JSON.stringify(s)),d.append("categories",JSON.stringify(r)),d.append("topics",JSON.stringify(c)),d.append("gNews",JSON.stringify(o)),d.append("free",JSON.stringify(t.free)),d.append("publishing",t.publishing),d.append("depublishing",t.depublishing),d.append("userName",u.name),d.append("uid",u.uid),d.append("image",n.image[0].originFileObj),d.append("image_desc",n.image_desc),i&&d.append("video",i.video[0].originFileObj),i&&d.append("video_desc",i.video_desc),setTimeout(function(){a.openNotification("Successfully","Added News Article","check")},2e3),setTimeout(function(){window.location.reload()},3e3),V.a.post("https://cmsbackend123.herokuapp.com/article/add",d).then(function(e){console.log(e)}).catch(function(e){console.log(e)})}})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"disabledDate",value:function(e){return e&&e<ae()().endOf("day")}},{key:"disabledDate1",value:function(e){var t=this.state.publishedDate;return e&&e<ae()(t).endOf("day")}},{key:"componentWillMount",value:function(){var e=k.getUser();e&&this.setState({user:e})}},{key:"logout",value:function(){sessionStorage.clear(),window.location.reload()}},{key:"handleChange",value:function(e){console.log("selected ".concat(e))}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,a=this.state,n=a.user,r=a.inputVisible,l=a.inputValue,o=a.author,s=a.inputVisible1,c=a.cities,u=a.catVisible,d=a.categories,p=a.topics,m=a.topicVisible,f=a.gNews,E=a.gVisible,C=o.map(this.forMap),w=c.map(this.forMap1),O=d.map(this.forMap2),S=p.map(this.forMap3),k=f.map(this.forMap4);return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,height:70,backgroundColor:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"right"},i.a.createElement("h1",{style:{paddingLeft:20,paddingTop:10},className:"title"},"Create New Article")),i.a.createElement("div",{style:{height:70,backgroundColor:"white"},className:"left"},i.a.createElement(H.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:10,paddingBottom:10}},i.a.createElement(H.a.Item,{key:"Dashboard"},i.a.createElement(g.b,{to:"/dashboard"},"Home")),i.a.createElement(H.a.Item,{key:"article"},i.a.createElement(g.b,{to:"/article"},"Add New Article")),i.a.createElement(H.a.Item,{key:"gallery"},i.a.createElement(g.b,{to:"/home"},"Photos-Gallery")),n?i.a.createElement(H.a.Item,{key:"logout",onClick:function(){return e.logout()}},i.a.createElement(h.a,{type:"arrow-right"}),"Logout"):null))),i.a.createElement("br",null),i.a.createElement("div",{className:"articleForm"},i.a.createElement(y.a,Object.assign({},he,{onSubmit:this.handleSubmit}),i.a.createElement(y.a.Item,{label:"Headline"},t("headline",{rules:[{required:!0,message:"Please input Article Headline"}]})(i.a.createElement(b.a,{placeholder:"Article Headline",type:"text"}))),i.a.createElement(y.a.Item,{label:"Sub-Headline"},t("subheadline",{rules:[{required:!0,message:"Please input Article Sub-Headline"}]})(i.a.createElement(b.a,{type:"text",placeholder:"Article Sub-Headline"}))),i.a.createElement(y.a.Item,{label:"Article-Description"},t("text",{rules:[{required:!0,message:"Please input Article Description"}]})(i.a.createElement(fe,{type:"text",placeholder:"Article Description",rows:4}))),i.a.createElement(y.a.Item,{label:"Publishing"},t("publishing",{rules:[{type:"object",required:!0,message:"Please select Publish Date and Time!"}]})(i.a.createElement(re.a,{disabledDate:function(t){return e.disabledDate(t)},onChange:function(t){return e.setState({publishedDate:t._d})},showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))),i.a.createElement(y.a.Item,{label:"Depublishing"},t("depublishing",{rules:[{type:"object",required:!0,message:"Please select Depublish Date and Time!"}]})(i.a.createElement(re.a,{disabledDate:function(t){return e.disabledDate1(t)},showTime:!0,format:"YYYY-MM-DD HH:mm:ss"}))),i.a.createElement(y.a.Item,{label:"Free"},t("free",{rules:[{required:!0,message:"Please Select True or False"}]})(i.a.createElement(le.a.Group,null,i.a.createElement(le.a.Button,{value:!0},"True"),i.a.createElement(le.a.Button,{value:!1},"False")))),i.a.createElement(y.a.Item,{label:o.length?"Author":"Add Author"},t("author",{rules:[{required:!0,message:"Please Add Author Name"}]})(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ee.a,{enter:{scale:.8,opacity:0,type:"from",duration:100,onComplete:function(e){e.target.style=""}},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},C)),r&&i.a.createElement(b.a,{ref:this.saveInputRef,type:"text",size:"default",style:{width:120},value:l,onChange:this.handleInputChange,onBlur:this.handleInputConfirm,onPressEnter:this.handleInputConfirm}),!r&&i.a.createElement(ie.a,{className:"addtag",onClick:this.showInput,style:{background:"#fff",borderStyle:"dashed",fontSize:14,padding:5,paddingLeft:10,paddingRight:10}},i.a.createElement(h.a,{type:"plus"})," Add Author")))),i.a.createElement(y.a.Item,{label:c.length?"Cities":"Add Cities"},t("city",{rules:[{required:!0,message:"Please Add City"}]})(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ee.a,{enter:{scale:.8,opacity:0,type:"from",duration:100,onComplete:function(e){e.target.style=""}},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},w)),s&&i.a.createElement(b.a,{ref:function(t){return e.city=t},type:"text",size:"default",style:{width:120},value:l,onChange:this.handleInputChange,onBlur:this.handleCityConfirm,onPressEnter:this.handleCityConfirm}),!s&&i.a.createElement(ie.a,{className:"addtag",onClick:function(){return e.setState({inputVisible1:!0},function(){return e.city.focus()})},style:{background:"#fff",borderStyle:"dashed",fontSize:14,padding:5,paddingLeft:10,paddingRight:10}},i.a.createElement(h.a,{type:"plus"})," Add City")))),i.a.createElement(y.a.Item,{label:d.length?"Categories":"Add Categories"},t("categories",{rules:[{required:!0,message:"Please Add Category"}]})(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ee.a,{enter:{scale:.8,opacity:0,type:"from",duration:100,onComplete:function(e){e.target.style=""}},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},O)),u&&i.a.createElement(b.a,{ref:function(t){return e.cat=t},type:"text",size:"default",style:{width:120},value:l,onChange:this.handleInputChange,onBlur:this.handleCatConfirm,onPressEnter:this.handleCatConfirm}),!u&&i.a.createElement(ie.a,{className:"addtag",onClick:function(){return e.setState({catVisible:!0},function(){return e.cat.focus()})},style:{background:"#fff",borderStyle:"dashed",fontSize:14,padding:5,paddingLeft:10,paddingRight:10}},i.a.createElement(h.a,{type:"plus"})," Add Category")))),i.a.createElement(y.a.Item,{label:p.length?"Topics":"Add Topics"},t("topics",{rules:[{required:!0,message:"Please Add Topic"}]})(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ee.a,{enter:{scale:.8,opacity:0,type:"from",duration:100,onComplete:function(e){e.target.style=""}},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},S)),m&&i.a.createElement(b.a,{ref:function(t){return e.topic=t},type:"text",size:"default",style:{width:120},value:l,onChange:this.handleInputChange,onBlur:this.handleTopicConfirm,onPressEnter:this.handleTopicConfirm}),!m&&i.a.createElement(ie.a,{className:"addtag",onClick:function(){return e.setState({topicVisible:!0},function(){return e.topic.focus()})},style:{background:"#fff",borderStyle:"dashed",fontSize:14,padding:5,paddingLeft:10,paddingRight:10}},i.a.createElement(h.a,{type:"plus"})," Add Topic")))),i.a.createElement(y.a.Item,{label:f.length?"Add Google News Keywords":"Google News Keywords"},t("gNews",{rules:[{required:!0,message:"Please Add Google News Keyword"}]})(i.a.createElement("div",null,i.a.createElement("div",null,i.a.createElement(ee.a,{enter:{scale:.8,opacity:0,type:"from",duration:100,onComplete:function(e){e.target.style=""}},leave:{opacity:0,width:0,scale:0,duration:200},appear:!1},k)),E&&i.a.createElement(b.a,{ref:function(t){return e.gNews=t},type:"text",size:"default",style:{width:120},value:l,onChange:this.handleInputChange,onBlur:this.handleGNewsConfirm,onPressEnter:this.handleGNewsConfirm}),!E&&i.a.createElement(ie.a,{className:"addtag",onClick:function(){return e.setState({gVisible:!0},function(){return e.gNews.focus()})},style:{background:"#fff",borderStyle:"dashed",fontSize:14,padding:5,paddingLeft:10,paddingRight:10}},i.a.createElement(h.a,{type:"plus"})," Add Keyword")))),i.a.createElement(y.a.Item,{label:"Add Image"},t("Image",{rules:[{required:!0,message:"Please Upload the Image and Add the Description"}]})(i.a.createElement("div",null,i.a.createElement(v.a,{type:"primary",onClick:this.showModal},"Add Image"),i.a.createElement(ue,{wrappedComponentRef:this.saveFormRef,visible:this.state.visible,onCancel:this.handleCancel,onCreate:this.handleCreate,openNotification:this.openNotification})))),i.a.createElement(y.a.Item,{label:"Add Video (Optional)"},t("Video")(i.a.createElement("div",null,i.a.createElement(v.a,{type:"primary",onClick:this.showModalVideo},"Add Video"),i.a.createElement(me,{wrappedComponentRef:this.saveFormVideo,visible:this.state.videoVisible,onCancel:this.handleCancelVideo,onCreate:this.handleCreateVideo,openNotification:this.openNotification})))),i.a.createElement(y.a.Item,ye,i.a.createElement(v.a,{type:"primary",htmlType:"submit",disable:this.state.formDisable,loading:this.state.formDisable},"Add Article")))))}}]),t}(i.a.Component),Ee=y.a.create({name:"register"})(be),ve=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},function(e){return{loginUser:function(t){return e(S(t))}}})(Ee),Ce=(a(680),B.a.Option),we=b.a.Search,Oe=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={current:"mail",user:null,allData:[]},a.handleClick=function(e){console.log("click ",e),a.setState({current:e.key})},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"componentWillMount",value:function(){var e=Object(q.a)(z.a.mark(function e(){var t,a,n=this;return z.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.state.allData,e.next=3,V.a.get("https://cmsbackend123.herokuapp.com/get/article/getAll").then(function(e){console.log(e.data.data),e.data.data.map(function(e,a){return t.push({key:a,headline:e,status:e.status,author:e.author,date:e.timestamp})}),n.setState({allData:t}),console.log(t)}).catch(function(e){return console.log(e)});case 3:(a=k.getUser())&&this.setState({user:a});case 5:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"logout",value:function(){sessionStorage.clear(),window.location.reload()}},{key:"handleChange",value:function(e){console.log("selected ".concat(e))}},{key:"render",value:function(){var e=this,t=this.state,a=t.user;t.allData;return i.a.createElement("div",null,i.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"center"}},i.a.createElement("div",{style:{paddingTop:10,paddingBottom:10,height:70,backgroundColor:"white",display:"flex",justifyContent:"space-between",alignItems:"center"},className:"right"},i.a.createElement(we,{placeholder:"Search by",enterButton:"Search",size:"large",className:"search1",style:{paddingTop:18,paddingBottom:10,paddingLeft:5,alignSelf:"center"},onSearch:function(e){return console.log(e)}}),i.a.createElement(B.a,{defaultValue:"City",size:"large",className:"selector",style:{width:120,marginLeft:10,paddingTop:8},onChange:function(t){return e.handleChange(t)}},i.a.createElement(Ce,{value:"city"},"City"),i.a.createElement(Ce,{value:"categories"},"Category"),i.a.createElement(Ce,{value:"topics"},"Topic"))),i.a.createElement("div",{style:{height:70,backgroundColor:"white"},className:"left"},i.a.createElement(H.a,{onClick:this.handleClick,selectedKeys:[this.state.current],mode:"horizontal",style:{display:"flex",justifyContent:"space-between",alignItems:"center",paddingTop:10,paddingBottom:10}},i.a.createElement(H.a.Item,{key:"article"},i.a.createElement(g.b,{to:"/article"},"Add New Article")),i.a.createElement(H.a.Item,{key:"gallery"},i.a.createElement(g.b,{to:"/gallery"},"Photos-Gallery")),a?i.a.createElement(H.a.Item,{key:"logout",onClick:function(){return e.logout()}},i.a.createElement(h.a,{type:"arrow-right"}),"Logout"):null))),i.a.createElement("br",null),i.a.createElement("h1",{style:{justifyContent:"center",textAlign:"center"}},"View Article"))}}]),t}(i.a.Component),Se=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},function(e){return{loginUser:function(t){return e(S(t))}}})(Oe);function ke(e){var t=e.component,a=e.isLoggedIn,n=Object(p.a)(e,["component","isLoggedIn"]);return i.a.createElement(m.b,Object.assign({},n,{render:function(e){return!0===a?i.a.createElement(t,e):i.a.createElement(m.a,{to:{pathname:"/",state:{from:e.location}}})}}))}var Ie=function(e){function t(){var e,a;Object(o.a)(this,t);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).state={isLoggedIn:!1,user:null},a}return Object(d.a)(t,e),Object(s.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=k.getUser();e&&this.setState({isLoggedIn:!0,user:e})}},{key:"render",value:function(){var e=k.getUser();return i.a.createElement(g.a,null,e&&i.a.createElement(i.a.Fragment,null),i.a.createElement(m.d,null,i.a.createElement(m.b,{path:"/",exact:!0,component:D}),i.a.createElement(m.b,{path:"/register",exact:!0,component:R}),i.a.createElement(m.b,{path:"/article/:id/:slug",component:Se}),i.a.createElement(ke,{isLoggedIn:this.props.isLoggedIn||this.state.isLoggedIn,exact:!0,path:"/dashboard",component:X}),i.a.createElement(ke,{isLoggedIn:this.props.isLoggedIn||this.state.isLoggedIn,exact:!0,path:"/article",component:ve})))}}]),t}(n.Component),je=Object(O.b)(function(e){return console.log("mapToState",e.authReducer),{isLoggedIn:e.authReducer.isLoggedIn}},null)(Ie),Ne=function(e){function t(){return Object(o.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return i.a.createElement(je,null)}}]),t}(i.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var De=a(79);function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach(function(t){Object(Z.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ve=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_USER":return Pe({},e,{isLoggedIn:t.isLoggedIn});default:return e}},xe=Object(De.c)({authReducer:Ve}),Le=a(287),Te=Object(De.d)(xe,Object(De.a)(Le.a));l.a.render(i.a.createElement(O.a,{store:Te},i.a.createElement(Ne,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[290,1,2]]]);
//# sourceMappingURL=main.cec64b4f.chunk.js.map